<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../bootstrap/css/bootstrap.css">
    <!-- Bootstrap -->
    <!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
    <script src="../jquery/jquery.min.js"></script>
    <!-- 加载 Bootstrap 的所有 JavaScript 插件。你也可以根据需要只加载单个插件。 -->
    <script src="../bootstrap/js/bootstrap.js"></script>
    <title>个人中心</title>
    <link rel="stylesheet" href="../css/yemei.css">
    <link rel="stylesheet" href="../css/PersonalCenter.css">
    <link rel="stylesheet" href="../css/foot.css">
    <script src="../jquery/PersonalCenter.js"></script>
    <link rel="stylesheet" type="text/css" href="../jquery/jquery.sPage.css">
</head>

<body>
<div class="top">
    <!--中部-->
    <div id="middle">
        <ul>
            <a href="#">医美</a>
            <a href="#">医平台</a>
            <a href="#">云健康</a>
            <a href="#">健康教育</a>
            <a href="#">闻康公益</a>
            <a href="#">药品网</a>
            <a href="#">下载App</a>
            <a href="#">微信公众号</a>
        </ul>
        <!--顶部右侧-->
        <div id="top_right">
            <p>欢迎！<a href="#" target="_blank" th:href="@{/user/center}">[[${session.user.getUname()}]]</a> &nbsp;<a href="#"  th:href="@{/user/exit}">退出</a></p>
        </div>
    </div>

</div>
    <!-- 顶部 -->

  <!--  <div id="yemei"></div>
    <script>
        $("#yemei").load("yemei.html");
    </script>-->
    <!-- 搜索框 -->
    <header>
        <div id="header_position">
            <div id="header_logo"></div>
            <div id="header_right">
                <form action="" method="get">
                    <input type="text" placeholder="疾病、专家、医院、科室">
                    <input type="submit" value="搜&nbsp;&nbsp;索">
                </form>
            </div>
        </div>
    </header>
    <!-- 导航条 -->
    <div id="daohang">
        <div id="daohang_center">
            <ul>
                <div id="firstpage"><a href="#" th:href="@{/main}">首页</a></div>
                <div><a href="#" th:href="@{/user/Ording}">预约挂号</a></div>
                <div><a href="#" th:href="@{/user/jisu}">图文咨询</a></div>
                <div><a href="#">电话医生</a></div>
                <div><a href="#">专家访谈</a></div>
                <div><a href="#">原创热点</a></div>
            </ul>
        </div>
    </div>
    <!-- 个人中心中间主要部分 -->
    <div id="main">
        <div id="g_main">
            <div id="personalcenter">
                <a href="#">个人中心</a>
                >&nbsp;
                <a href="#">订单管理</a>
                >&nbsp;
                <span>预约挂号单</span>
            </div>
            <div id="Personalmain">
                <!-- 左侧部分 -->
                <div id="main_left">
                    <div id="left_head">
                        <div id="headphoto">
                            <img id="userphoto">
                            <div id="userName">
                                <span th:text="${session.user.getUname()}">name</span>
                                <span th:text="${session.user.getUsex()}">-sex</span>
                               <!-- <span th:text="${session.user.get}">-age</span>-->
                            </div>
                            <p id="userFlag">
                                <a href="#">去认证</a>
                                <i></i>
                            </p>
                        </div>
                        <div id="left_nav">
                            <ul>
                                <li class="nav_head">
                                    订单管理
                                    <i id="orderManage"></i>
                                </li>
                                <li class="nav_body">
                                    <a id="OrderList" onclick="showOrderList()">预约挂号单</a>
                                </li>
                                <li class="nav_body">
                                    <a id="QuestionList" onclick="showQuestionList()">我的问诊单</a>
                                </li>
                            </ul>
                            <ul>
                                <li class="nav_head">
                                    健康档案
                                    <i id="healthFile"></i>
                                </li>
                                <li class="nav_body">
                                    <i></i>
                                    <a id="Care" onclick="showCare()">我的关注</a>
                                </li>
                            </ul>
                            <ul>
                                <li class="nav_head">
                                    钱包福利
                                    <i id="walletWelfare"></i>
                                </li>
                                <li class="nav_body">
                                    <i></i>
                                    <a id="Wallet" onclick="showWallet()">健康账户</a>
                                </li>
                            </ul>
                            <ul>
                                <li class="nav_head">
                                    更多设置
                                    <i id="setup"></i>
                                </li>
                                <li class="nav_body">
                                    <i></i>
                                    <a id="Setupone" onclick="showSetup()">账号设置</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!-- 右侧部分 -->
                <div id="main_right" style="position: relative">
                    <!-- 我的预约单 -->
                    <div id="orderdiv">
                        <div class="right_head">
                            <h3>我的预约单</h3>
                            <span>下载微医App和问诊医生视频通话！</span>
                        </div>
                        <ul>
                            <li>
                                <a href="#" class="current">预约单</a>
                            </li>
                        </ul>
                        <form id="orderFilter" action="">
                            <div>
                                <label>按状态筛选：</label>
                                <select name="oderState">
                                    <option value="0">全部</option>
                                    <option value="2">待就诊</option>
                                    <option value="3">待确认</option>
                                    <option value="1">待支付</option>
                                </select>
                            </div>
                            <div>
                                <label>就诊时间：</label>
                                <select name="oderTime">
                                    <option value="0">近三个月</option>
                                    <option value="1">更早订单</option>
                                </select>
                            </div>
                            <input type="submit" name="sure">
                        </form>
                        <div>
                            <table class="data-title">
                                <thead>
                                    <tr>
                                        <td style="width:5px">#　　　</td>
                                        <td style="width:120px">预约医生</td>
                                        <td style="width:100px">就诊人</td>
                                        <td style="width:100px">支付状态</td>
                                        <td style="width:145px">就诊日期</td>
                                        <td style="width:100px">总金额</td>
                                        <td style="width:120px">操作</td>
                                    </tr>
                                </thead>
                                <tbody>
                                <tr th:each="ord : ${session.pageHelper.listItems}" id="one">
                                    <th style="color: #999999" th:text="${ordStat.index+1}">1</th>
                                    <th hidden  th:text="${ord.ordingId}" ></th>
                                    <th style="color: #999999" th:text="${ord.getDoctor().DName}">易桂林</th>
                                    <th style="color: #999999" th:text="${ord.getUser().uname}">张三</th>
                                    <th style="color: #999999" th:text="${ord.isPay==0?'未支付':'已支付'}">未支付</th>
                                    <th style="color: #999999"><span th:text="${ord.getTime().data}"></span> <span th:text="${ord.getTime().morAfter}"></span>午</th>
                                    <th style="color: #999999" th:text="${ord.getPrice().price}">15.00</th>
                                    <th >
                                        <button class="btn btn-danger btn-xs" th:value="${ord.ordingId}"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span>取消</button>
                                        <button class="btn btn-warning btn-xs" th:if="${ord.isPay==0}" th:value="${ord.ordingId}"><span class="glyphicon glyphicon-yen" aria-hidden="true" ></span>付款</button>
                                    </th>
                                </tr>
                                </tbody>
                            </table>
                            <script>
                                $(function () {
                                    $("#one>th>button:last-child").click(function () {
                                        var val=$(this).val();
                                        var text=$(this).text();
                                        console.log(text);
                                        console.log(val);
                                        if(text=="付款"){
                                            location.href="/alipay/pay?ordingId="+val;
                                        }

                                    })
                                })
                            </script>
                            <script>
                            $(function () {
                                $("#one>th>button:first-child").click(function () {
                                   if(confirm("亲，确认取消预约吗？")){
                                       var  ordingId= $(this).val();
                                       var text=$(this).text();
                                       console.log(text);
                                       var  cancel=$(this);
                                       if(text=="取消"){
                                           $.getJSON("/user/cancel",{ordingId:ordingId},function (data) {
                                               var tr=cancel.parent().parent();
                                               tr.remove();
                                           })
                                       }else{
                                           return false;
                                       }
                                   }
                                })
                            })




                            </script>
                        </div>
                        <div  style="width: 655px;height: 90px;position: absolute;top: 647px;">
                            <div id="fenye"  style="position: absolute;right: 0;margin: 13px -119px 0 0; width: 1000px; height: 60px;">
                                <div style="margin-left: 400px">
                                    <div id="pNum" class="num"></div>
                                    <div id="myPage" class="demo"></div>
                                </div>
                            </div>
                        </div>
                        <script src="https://www.jq22.com/jquery/jquery-1.10.2.js"></script>
                        <script src="../jquery/jquery.sPage.js"></script>
                        <script type="text/javascript" th:inline="javascript">
                            $(function(){
                                // 示例1
                                $("#myPage").sPage({
                                    page:[[${session.pageHelper.currentPage}]],//当前页码，必填
                                    total:[[${session.pageHelper.totalPages}]],//数据总条数，必填
                                    pageSize:[[${session.pageHelper.pageSize}]],//每页显示多少条数据，默认10条
                                    showTotal:true,//是否显示总条数，默认关闭：false
                                    totalTxt:"共{total}条",//数据总条数文字描述，{total}为占位符，默认"共{total}条"
                                    noData: false,//没有数据时是否显示分页，默认false不显示，true显示第一页
                                    showSkip:true,//是否显示跳页，默认关闭：false
                                    showPN:true,//是否显示上下翻页，默认开启：true
                                    prevPage:"上一页",//上翻页文字描述，默认“上一页”
                                    nextPage:"下一页",//下翻页文字描述，默认“下一页”
                                    backFun:function(page) {
                                        //点击分页按钮回调函数，返回当前页码
                                        /*$("#pNum").text(page);*/
                                            location.href = "/user/center?pn="+ page;
                                    }
                                });
                            });
                        </script>

                    </div>
                    <!-- 我的问诊单 -->
                    <div id="questiondiv">
                        <div class="right_head">
                            <h3>我的问诊单</h3>
                            <span>下载微医App和问诊医生视频通话！</span>
                        </div>
                        <ul>
                            <li>
                                <a id="freeList" onclick="showFree()">图文咨询</a>
                                <a id="notFreeList" onclick="showNotFree()">快速问诊</a>
                            </li>
                        </ul>
                        <!-- 图文问诊单 -->
                        <div id="freeListdiv">
                            <table class="data-title">
                                <thead>
                                    <tr>
                                        <td style="width: 145px">医生姓名</td>
                                        <td style="width:145px">疾病标题</td>
                                        <td style="width:145px">疾病介绍</td>
                                        <td style="width:145px">就诊人</td>
                                        <td style="width:100px">操作</td>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- 问诊单信息 -->
                                    <tr th:each="commit : ${session.tuwenCommits}" id="two">
                                        <th style="color: #999999" th:text="${commit.doctor.DName}">易桂林</th>
                                        <th style="color: #999999" th:text="${commit.Title}">张三</th>
                                        <th style="color: #999999" th:text="${commit.Memo}">未支付</th>
                                        <th style="color: #999999"><span th:text="${session.user.Uname}"></span>
                                        <th >
                                            <button class="btn btn-danger btn-xs" th:value="${commit.CommitId}"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span>取消</button>
                                        </th>
                                    </tr>
                                </tbody>
                            </table>
                            <script>
                                $(function () {
                                    $("#two>th>button:first-child").click(function () {
                                        if(confirm("亲，确认取消预约吗？")){
                                            var  CommitId= $(this).val();
                                            console.log(CommitId);
                                            var  cancel=$(this);
                                            $.post("/user/cancelCommit",{CommitId:CommitId},function (data) {
                                                var tr=cancel.parent().parent();
                                                tr.remove();
                                            })
                                        }else{
                                            return false;
                                        }
                                    })
                                })
                            </script>
<!--                            <div class="noresults">
                                <div class="content">
                                    <img src="../images/noapply.png">
                                    <p class="noresults-text">暂无免费咨询记录</p>
                                </div>
                            </div>-->
                        </div>
                        <!-- 专家问诊单 -->
                        <div id="notFreeListdiv">
                            <table class="data-title">
                                <thead>
                                    <tr>
                                        <td style="width: 145px">医生姓名</td>
                                        <td style="width:145px">确诊疾病</td>
                                        <td style="width:145px">病情描述</td>
                                        <td style="width:145px">预约状态</td>
                                        <td style="width:100px">操作</td>
                                    </tr>
                                </thead>
                                <tbody>
                                <tr th:each="commit : ${session.jisuCommits}" id="three">
                                    <th style="color: #999999" th:text="${commit.doctor.DName}">易桂林</th>
                                    <th style="color: #999999" th:text="${commit.Title}">张三</th>
                                    <th style="color: #999999" th:text="${commit.Memo}">未支付</th>
                                    <th style="color: #999999"><span th:text="${session.user.Uname}"></span>
                                    <th >
                                        <button class="btn btn-danger btn-xs" th:value="${commit.CommitId}"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span>取消</button>
                                    </th>
                                </tr>
                                </tbody>
                            </table>
                            <script>
                                $(function () {
                                    $("#three>th>button:first-child").click(function () {
                                        if(confirm("亲，确认取消预约吗？")){
                                            var  CommitId= $(this).val();
                                            console.log(CommitId);
                                            var  cancel=$(this);
                                            $.post("/user/cancelCommit",{CommitId:CommitId},function (data) {
                                                var tr=cancel.parent().parent();
                                                tr.remove();
                                            })
                                        }else{
                                            return false;
                                        }
                                    })
                                })
                            </script>
                        </div>
                    </div>
                    <!-- 我的关注 -->
                    <div id="carediv">
                        <div class="right_head">
                            <h3>我的关注</h3>
                            <span>医生</span>
                            <span >医院</span>
                        </div>
                        <ul>
                            <li>
                                <a id="doctorList" onclick="showDoctor()">医生</a>
                                <a id="hospitalList" onclick="showHospital()">医院</a>
                            </li>
                        </ul>
                        <!-- 医生列表 -->
                        <div id="doctordiv">
                            <!-- 医生列表从数据库中调用
                                <ul>
                                    <li></li>
                                </ul> -->
                            <div class="noresults">
                                <div class="content">
                                    <img src="../images/noapply.png">
                                    <p class="noresults-text">暂无关注医生</p>
                                </div>
                            </div>
                        </div>
                        <!-- 医院列表 -->
                        <div id="hospitaldiv">
                            <!-- 医院列表从数据库中调用 -->
                            <!-- <ul>
                                        <li></li>
                                    </ul> -->
                            <div class="noresults">
                                <div class="content">
                                    <img src="../images/noapply.png">
                                    <p class="noresults-text">暂无关注医院</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 健康账户 -->
                    <div id="walletdiv">
                        <div class="right_head">
                            <h3>健康账户</h3>
                            <span>下载微医App和问诊医生视频通话！</span>
                        </div>
                        <div id="walletmain">
                            <div id="balance">
                                <img src="../images/icon-balance.png">
                                <p>账户余额<span class="userbalance" th:text="${session.user.getUcount()}">0.00</span>元</p>
                                <div>
                                    <a href="#">充值</a>
                                    <a href="#">提现</a>
                                </div>
                            </div>
                            <div id="card">
                                <img src="../images/icon-bank.png">
                                <p>我的银行卡</p><br />
                                <a href="#">点击添加</a>
                            </div>
                        </div>
                    </div>
                    <!-- 个人信息 -->
                    <div id="Setupdiv">
                        <div class="right_head">
                            <h3>个人信息</h3>
                            <span>修改个人信息</span>
                        </div>
                        <ul>
                            <li>
                                <a id="userInfo" onclick="showUserInfo()">个人信息</a>
                                <a id="upsetPassword" onclick="showUpsetPassword()">修改密码</a>
                                <a id="setHead" onclick="showSetHead()">头像设置</a>
                            </li>
                        </ul>
                        <!-- 个人信息展示 -->
                        <div id="userInfodiv">
                            <form th:action="@{/user/setInfo}" method="post">
                                <ul>
                                    <li >
                                        <span>&nbsp;&nbsp;&nbsp;登录名：</span>
                                        <!--<label for>userId(telephone)</label>-->
                                        <input class="form-control" type="text" placeholder="" readonly="readonly" id="userid" value="userId(telephone)" style="width: 200px;height: 31px" th:value="${session.user.getUloginname()}">
                                        <button class="btn btn-primary btn-sm" id="xiugaiuserid" style="" type="button"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>修改</button>
                                    </li>

                                    <li >
                                        <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 姓名：</span>
                                        <!--<label for>userId(telephone)</label>-->
                                        <input class="form-control" type="text" placeholder="" readonly="readonly" id="usernameone" style="width: 200px;height: 31px" th:value="${session.user.getUname()}" name="Uname">
                                        <button class="btn btn-primary btn-sm" id="xiugaiusername" style="" type="button"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>修改</button>
                                    </li>

                                    <li>
                                    <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;性别：</span>
                                    <input class="form-control" type="text" placeholder="" readonly="readonly" id="shiming" style="width: 200px;height: 31px" th:value="${session.user.getUsex()}" name="Usex">
                                    <button class="btn btn-primary btn-sm" id="xiugaishiming" type="button"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>修改</button>
                                        <span id="shimingtishi"></span>
                                    </li>

                                   
                                    <li >
                                        <span>&nbsp;&nbsp;&nbsp;手机号：</span>
                                        <input class="form-control" type="text" placeholder="" readonly="readonly"  id="telephone" style="width: 200px;height: 31px" th:value="${session.user.getUtelephone()}" name="Utelephone">
                                        <button class="btn btn-primary btn-sm" id="xiugaitelephone" type="button"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>修改</button>
                                        <span id="tel"></span>
                                    </li>
                                    <li >
                                        <span>&nbsp;&nbsp;&nbsp;身份证：</span>
                                        <!--<label for>userId(telephone)</label>-->
                                        <input class="form-control" type="text" placeholder="" readonly="readonly" id="identity" style="width: 200px;height: 31px" th:value="${session.user.getUidnumber()}" name="Uidnumber">
                                        <button class="btn btn-primary btn-sm" id="xiugaiidentity" style="" type="button"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>修改</button>
                                        <span id="idcard"></span>
                                    </li>

                                    <li >
                                        <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;邮箱：</span>
                                        <input class="form-control" type="text" placeholder="" readonly="readonly"  value="mailaddress"  id="mailaddress" style="width: 200px;height: 31px" th:value="${session.user.getUmail()}" name="Umail">
                                        <button class="btn btn-primary btn-sm"  id="xiugaimailaddress" type="button"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>修改</button>
                                        <span id="gerenmail"></span>
                                    </li>

                                    <li >
                                        <input type="submit" value="提交修改信息" style="height: 35px;width: 100px" id="tjiao">
                                    </li>
                                    </ul>
                            </form>
                        </div>



                        <!-- 修改密码 -->
                        <div id="upsetPassworddiv">
                            <p id="wo" style="margin: 0 200px"></p>
                            <div>
                                <p><span>*</span>原密码：　
                                    <input type="password" name="OldUPassword" id="OldUPassword">
                                    <span id="tshi"></span>
                                </p>
                                <p><span>*</span>新密码：　
                                    <input type="password" name="UPassword" id="UPassword">
                                    <span id="one"></span>
                                </p>
                                <p><span>*</span>确认密码：
                                    <input type="password" name="confirmPassword" id="confirmPassword">
                                    <span id="two"></span>
                                </p>
                                <button type="submit" id="tijiao">修改</button>
                            </div>
                        </div>
                        <script>
                            $("#OldUPassword").blur(function () {
                                var val=$("#OldUPassword").val();
                                $.ajax({
                                    url:'/user/jiaopass',
                                    type:'post',
                                    data:{OldUPassword:val},
                                    success:function (data) {
                                        if(data=="正确"){
                                            $("#tshi").text(data).css("color","green");
                                        }else{
                                            $("#tshi").text(data).css("color","red");
                                        }
                                    }
                                })
                            })  /*原密码的验证*/

                            /*新密码校验*/
                            $("#confirmPassword").blur(function () {
                                var OldUPassword=$("#OldUPassword").val();
                                var  UPassword= $("#UPassword").val();
                                var confirmPassword=$("#confirmPassword").val();
                                if(UPassword==confirmPassword){
                                    $("#one").text("").css("color","green");
                                    $("#two").text("").css("color","green");
                                    $("#tijiao").removeAttr("disabled");
                                    $("#tijiao").click(function () {
                                        $.ajax({
                                            url:'/user/pass',
                                            type:'post',
                                            data:{UPassword:UPassword,OldUPassword:OldUPassword},
                                            success:function f(data) {
                                                console.log(data);
                                                if(data=="修改成功"){
                                                    $("#wo").text(data).css("color","green");
                                                    $("#tijiao").removeAttr("disabled");
                                                }else{
                                                    $("#wo").text(data).css("color","red");
                                                    $("#tijiao").attr("disabled","disabled");
                                                }
                                            }
                                        })
                                    })
                                }else{
                                    $("#one").text("密码不一致").css("color","red");
                                    $("#two").text("密码不一致").css("color","red");
                                    $("#tijiao").attr("disabled","disabled");
                                }
                            })
                        </script>

                        <!-- 上传头像 -->
                        <div id="setHeaddiv">
                            <p id="head-p1">添加或更改你的头像</p>
                            <p id="head-p2">从电脑中选择一项你喜欢的照片上传，仅支持JPEG、GIF或PNG图片文件，且大小不超过2M。</p>
                            <form action="" method="POST">
                                <a href="javascript:;" id="upload_head" onclick="headFileUpdate()">
                                    <span>选择图片</span>
                                    <input type="file" name="uplode_file" id="imgFile" alt="1">
                                </a><br/>
                                <button type="submit">上传</button>
                            </form>
                        </div>
                    </div>
                    <!-- 我的反馈 -->
                    <div id="Requestdiv">
                        <div class="right_head">
                            <h3>我的反馈</h3>
                            <span>查看我的反馈记录</span>
                        </div>
                        <div class="noresults">
                            <div class="content">
                                <img src="../images/noapply.png">
                                <p class="noresults-text">您没有反馈任何问题</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="footer" style="margin-top:40px;">
        <div id="footer_one">
            <ul>
                <a href="">关于我们</a>
                <a href="">网站地图</a>
                <a href="">服务声明</a>
                <a href="">招聘信息</a>
                <a href="">意见反馈</a>
                <a href="">联系我们</a>
            </ul>
            <p>违法和不良信息举报电话：4008591200举报邮箱：840140851@qq.com</p>
            <p>北京市公安局海淀分局备案编号：0101101081513经营许可证编号：京ICP证080257号京ICP备10047209号-1</p>
            <p>京卫计网审【2015】第0237号互联网药品信息服务资格证书编号：(京)-非经营性-2018-0306Copyright 2002-2019 All rights reserved</p>
    
        </div>
    </div>

    <!--修改信息的js-->
    <script>
        /*点击修改账号设置*/
            $("#xiugaiuserid").click(function () {
                $("#userid").removeAttr("readonly");
                $("#userid").blur(function () {
                    $("#userid").attr("readonly","readonly");
                })
            })

            /*------2----*/
        $("#xiugaiusername").click(function () {
            $("#usernameone").removeAttr("readonly");
        })
        $("#usernameone").blur(function () {
            $("#usernameone").attr("readonly","readonly");
        })
        /*/!*-----3-----*!/*/
        $("#xiugaitelephone").click(function () {
            $("#telephone").removeAttr("readonly");
        })
        $("#telephone").blur(function () {
            var tel=$("#telephone").val();
            if(tel==""){
                $("#tel").text("输入不能为空").css("color","red");
                $("#tjiao").attr("type","button");
            }else{
                var reg = /^1[34578]\d{9}$/;
                if(!reg.test(tel)){
                    $("#tel").text("请输入正确的电话号码").css("color","red");
                    $("#tjiao").attr("type","button");
                }else{
                  $("#tel").text("");
                  $("#tjiao").attr("type","submit");
                }
            }

            $("#telephone").attr("readonly","readonly");
        })
        /*/!*-----4-----*!/*/
        $("#xiugaiidentity").click(function () {
            $("#identity").removeAttr("readonly");
        })
        $("#identity").blur(function () {
            var val=$("#identity").val();
            console.log(val);
            if(val===""){
                $("#idcard").text("输入不能为空").css("color","red");
                $("#tjiao").attr("type","button");
            }else{
                var reg1=/^((\d{18})|([0-9x]{18})|([0-9X]{18}))$/;
                if(!reg1.test(val)){
                    $("#idcard").text("请输入正确的身份证").css("color","red");
                    $("#tjiao").attr("type","button");
                }else {
                    $("#idcard").text("");
                    $("#tjiao").attr("type","submit");
                }
            }

            $("#identity").attr("readonly","readonly");
        })
       /* /!*-----5-----*!/*/
        $("#xiugaimailaddress").click(function () {
            $("#mailaddress").removeAttr("readonly");
        })
        $("#mailaddress").blur(function () {
            var mai=$("#mailaddress").val();
            console.log(mai);
            if(mai==""){
                $("#gerenmail").text("输入不能为空").css("color","red");
                $("#tjiao").attr("type","button");
            }else{
                var reg=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;
                if(!reg.test(mai)){
                    $("#gerenmail").text("请输入正确的邮箱地址").css("color","red");
                    $("#tjiao").attr("type","button");
                }else{
                    $("#gerenmail").text("");
                    $("#tjiao").attr("type","submit");
                }
            }
            $("#mailaddress").attr("readonly","readonly");
        })
       /* /!*-----6-----*!/*/
        $("#xiugaishiming").click(function () {
            $("#shiming").removeAttr("readonly");
        })
        $("#shiming").blur(function () {
            var text=$("#shiming").val();
            if(text==""){
                $("#shimingtishi").text("输入不能为空").css("color","red");
                $("#tjiao").attr("type","button");
            }else{
                if(text=="男"||text=="女"){
                    $("#shimingtishi").text("");
                    $("#tjiao").attr("type","submit");
                }else{
                    $("#shimingtishi").text("请输入‘男’或‘女’").css("color","red");
                    $("#tjiao").attr("type","button");
                }
            }
            $("#shiming").attr("readonly","readonly");
        })
        /*/!*-----7-----*!*/

    </script>

    <!--这边还要再写校验-->
</body>
</html>